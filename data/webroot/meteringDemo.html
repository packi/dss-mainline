<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
		<script type="text/javascript" src="js/lib/jquery/jquery.min.js"</script>
		<script type="text/javascript" src="js/lib/prototype/prototype.js"></script>
		<!-- [if IE]>
			<script type="text/javascript" src="js/lib/flot/excanvas.min.js"></script>
		<![endif] -->
		<script type="text/javascript" src="js/lib/flot/jquery.flot.min.js"></script>
		<script type="text/javascript" src="js/meteringDemo.js"></script>
		<script type="text/javascript" src="js/DSGraph.js"></script>
		<script type="text/javascript" src="js/DSMainMeterReport.js"></script>
		<link rel="stylesheet" href="css/meteringDemoStyle.css" type="text/css"/>
		<script type="text/javascript">
var graph;
var reporter;
var dSMIDs = [
				"3504175fe0000000ffc00011",
				"3504175fe0000000ffc00012",
				"3504175fe0000000ffc00013",
				"3504175fe0000000ffc00014",
				"3504175fe0000000ffc00015",
				"3504175fe0000000ffc00016"
			];
var roomNames = [
				"Arbeitszimmer",
				"Esszimmer",
				"Gang",
				"Wohnzimmer",
				"Schlafzimmer",
				"Bad"
			];
jQuery(document).ready(function() {
	jQuery(".consumptionOverlay").css({opacity: 0.3});
	jQuery(".hoverOverlay").css({opacity: 0.2});
	registerHandlers();
	updatePowerConsumptionOverlays();
	graph = new DSGraph(dSMIDs[0]);
	graph.start();
	reporter = new DSMainMeterReport();
	reporter.start();
	jQuery("#showRawXML").click(function() {
		jQuery("#rawDataOverlay").css({
				display: "block",
				opacity: 0.0
			}).animate({
				opacity: 0.8
			}, 1000, null, null);
			jQuery("#rawDataOverlayBox").fadeIn(1000);
	});
	jQuery("#hideXML").click(function() {
		jQuery("#rawDataOverlayBox").fadeOut(1000);
		jQuery("#rawDataOverlay").animate({
			opacity: 0.0
		}, 1000, null, function() {
			jQuery(this).css({display: "none"});
		});
	});
});

		</script>
		<title>aizo Metering Charts powered by futureLAB</title>
	</head>
	<body>
		<div id="main">
			<h1 id="header">aizo Metering Charts powered by futureLAB</h1>
			<div id="navigation">
				<ul id="viewMode">
					<li id="threeD">3D</li>
					<li id="map">Pläne</li>
				</ul>
				<ul id="buildingSection">
					<li id="entireBuilding">Gebäude</li>
					<li id="groundFloor" class="selected">Erdgeschoss</li>
				</ul>
			</div>
			<div id="content">
				<div id="building">
					<div id="selectionArea">
						<div id="allFloors" style="display: none;">
							<img id="allfloorsConsumption" src="views/building.png" style="height: 309px;"/>
						</div>
						<div id="firstFloor">
						<div id="firstFloor_3d" style="position: absolute;">
							<img src="views/first_floor.jpg" usemap="#firstFloorMap"/>
							<img id="firstFloorSelection" src="views/room_1.jpg" usemap="#firstFloorMap"/>
							<img id="firstFloorHover" class="hoverOverlay" src="views/room_2.jpg" usemap="#firstFloorMap"/>
							<img id="consumptionOverlay1" class="consumptionOverlay" src="views/room_1_green.png" usemap="#firstFloorMap"/>
							<img id="consumptionOverlay2" class="consumptionOverlay" src="views/room_2_green.png" usemap="#firstFloorMap"/>
							<img id="consumptionOverlay3" class="consumptionOverlay" src="views/room_3_green.png" usemap="#firstFloorMap"/>
							<img id="consumptionOverlay4" class="consumptionOverlay" src="views/room_4_green.png" usemap="#firstFloorMap"/>
							<img id="consumptionOverlay5" class="consumptionOverlay" src="views/room_5_green.png" usemap="#firstFloorMap"/>
							<img id="consumptionOverlay6" class="consumptionOverlay" src="views/room_6_green.png" usemap="#firstFloorMap"/>
							<map name="firstFloorMap">
								<area id="room1" shape="poly" coords="182,7,109,51,178,84,247,32" nohref="nohref" title="Arbeitszimmer" alt="Arbeitszimmer" />
								<area id="room2" shape="poly" coords="105,53,15,108,86,151,174,86" nohref="nohref" title="Esszimmer" alt="Esszimmer" />
								<area id="room3" shape="poly" coords="251,34,91,154,138,183,291,50" nohref="nohref" title="Gang" alt="Gang" />
								<area id="room4" shape="poly" coords="296,51,230,108,324,153,383,85" nohref="nohref" title="Wohnzimmer" alt="Wohnzimmer" />
								<area id="room5" shape="poly" coords="226,111,182,150,283,204,323,157" nohref="nohref" title="Schlafzimmer" alt="Schlafzimmer" />
								<area id="room6" shape="poly" coords="177,153,141,185,246,249,278,208" nohref="nohref" title="Bad" alt="Bad" />
							</map>
						</div>
						<div id="firstFloor_map" style="position: absolute; display: none;">
							<img src="views/first_floor_map.png" usemap="#firstFloorMapMap"/>
							<img id="firstFloorSelectionMap" src="views/room_1_map.png" usemap="#firstFloorMapMap"/>
							<img id="firstFloorHoverMap" class="hoverOverlay" src="views/room_1_map.png" usemap="#firstFloorMapMap"/>
							<img id="consumptionOverlay1map" class="consumptionOverlay" src="views/room_1_map_green.png" usemap="#firstFloorMapMap"/>
							<img id="consumptionOverlay2map" class="consumptionOverlay" src="views/room_2_map_green.png" usemap="#firstFloorMapMap"/>
							<img id="consumptionOverlay3map" class="consumptionOverlay" src="views/room_3_map_green.png" usemap="#firstFloorMapMap"/>
							<img id="consumptionOverlay4map" class="consumptionOverlay" src="views/room_4_map_green.png" usemap="#firstFloorMapMap"/>
							<img id="consumptionOverlay5map" class="consumptionOverlay" src="views/room_5_map_green.png" usemap="#firstFloorMapMap"/>
							<img id="consumptionOverlay6map" class="consumptionOverlay" src="views/room_6_map_green.png" usemap="#firstFloorMapMap"/>
							<map name="firstFloorMapMap">
								<area id="room1map" shape="poly" coords="49,11,49,154,160,154,159,10" nohref="nohref" title="Arbeitszimmer" alt="Arbeitszimmer" />
								<area id="room2map" shape="poly" coords="49,159,49,293,160,293,159,159" nohref="nohref" title="Esszimmer" alt="Esszimmer" />
								<area id="room3map" shape="poly" coords="164,11,165,293,225,293,225,11" nohref="nohref" title="Gang" alt="Gang" />
								<area id="room4map" shape="poly" coords="230,11,230,154,344,154,344,11" nohref="nohref" title="Wohnzimmer" alt="Wohnzimmer" />
								<area id="room5map" shape="poly" coords="230,159,230,236,344,236,344,159" nohref="nohref" title="Schlafzimmer" alt="Schlafzimmer" />
								<area id="room6map" shape="poly" coords="230,240,230,293,344,293,344,240" nohref="nohref" title="Bad" alt="Bad" />
							</map>
						</div>
						</div>
					</div>
				</div>
				<div id="charts">
					<h2 id="graphSelection"><div id="graphSelectionIcon"></div>Stromverbrauch: <span id="graphSelectionTitle">Arbeitszimmer</span></h2>
					<ul id="graphSelector">
						<li id="five_minutes" class="selected">letzte 5 Min.</li>
						<li id="one_hour">letzte Std.</li>
						<li id="one_day">letzter Tag</li>
						<li id="one_week">letzte Woche</li>
						<li id="one_month">letzter Monat</li>
						<li id="one_year">letztes Jahr</li>
					</ul>
					<div id="graph">
						<div id="curve"></div>
					</div>
					<div id="showRawXML"></div>
				</div>
				<div id="queueHeader">
					<div id="toggleQueue">Main Meter Queue</div>
				</div>
				<div id="queue">
					<div id="queueContainer">

					</div>
				</div>
				<div id="queueFooter">
					<p id="queueTitle"><span>Incoming Metering Information: </span><span id="queueStatus"><span id="queueLength">0</span> Packets are currently in the queue</span></p>
					<p id="connectionStatus">
						Connection Status:<br/>
						<span id="connectionStatusText">connected</span>
					</p>
				</div>
			</div>
			<div id="footer">
			</div>
		</div>
		<div id="rawDataOverlay"></div>
		<div id="rawDataOverlayBox">
			<div id="hideXML">Hide XML</div>
			<div id="xml"></div>
		</div>
	</body>
</html>
